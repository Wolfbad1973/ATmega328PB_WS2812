; ATmega328PB 16MHz
; PB0 - выход с импульсами ~3 МГц
; Сборка: avra code.asm

.include "m328PBdef.inc"

.org 0
    sbi     DDRB, 0         ; Настройка PB0 как выхода


	;0 
;    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
;	nop
;	nop
;	nop
;  cbi     PORTB, 0        ; Установить LOW (2 цикла)
;	nop
;	nop
;	nop
;	nop
;	nop
;	nop
;	nop
;	nop
;	nop
;	nop
;	nop		
;	nop
;	nop 
	

;	MainLoop:
	;1 
	sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;2
	sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	;3
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;4
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;5
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;6
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;7
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;8
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;9
	    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;10
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;11
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;12
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;13
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;14
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;15
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;16
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;17
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;18
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;19
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;20
	    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;21
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;22
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;23
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;24
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;---------------------------------------------------------------------------------------------------------------------------------------------------------------
	;---------------------------------------------------------------------------------------------------------------------------------------------------------------
	;2led
	;17
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;18
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;19
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;20
	    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;21
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;22
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;23
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;24
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
		;1 
	sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;2
	sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	;3
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;4
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;5
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;6
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;7
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	;8
		sbi     PORTB, 0        ; Установить HIGH (2 цикла) 1
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
    cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop 
	    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;10
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;11
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;12
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;13
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;14
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;15
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;16
    sbi     PORTB, 0        ; Установить HIGH (2 цикла) 0
	nop
	nop
	nop
   cbi     PORTB, 0        ; Установить LOW (2 цикла)
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop		
	nop
	nop 
	;3led


	;4led


    ;delay 50 mks
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;100 nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;200
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;300
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;400
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;500
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;600
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  
	;700
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop 
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop
	nop  ;800
  ;  rjmp    MainLoop        ; Повторить цикл (2 цикла)

   



